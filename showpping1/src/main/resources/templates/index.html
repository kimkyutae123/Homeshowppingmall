<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>Yuhan Clothes</title>
		
	    <link rel="stylesheet" th:href="@{/style/style.css}">
	   
	</head>
<body>
    <div th:if="${successMessage}" class="alert alert-success" role="alert" 
         style="text-align: center; margin: 20px auto; max-width: 90%; padding: 15px; border-radius: 8px; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;">
        <span th:text="${successMessage}">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜Š</span>
    </div>
    <header class="header">
	    <div class="nav-bar">
	        <div class="logo">
	            <h1 style="margin: 0;">Yuhan Clothes</h1>
	        </div>
			
	        <div class="search-and-user">
	            
	            <a href="/" class="menu-link">í™ˆ</a>
	            <a href="/shirtlist" class="menu-link">ìƒì˜ ëª©ë¡</a>	            
	            <a href="/cart" class="menu-link">ì¥ë°”êµ¬ë‹ˆ</a>
	           
	            
	            <div class="user-status-group">
	                <span th:if="${session.user != null}" class="user-welcome">
	                    <span th:text="${session.user.username}"></span>ë‹˜, ì–´ì„œì˜¤ì„¸ìš”
	                </span>
	                
	                <a th:unless="${session.user != null}" href="/register" class="btn btn-outline-primary btn-sm">
	                    <i class="bi bi-person-plus"></i> íšŒì›ê°€ì…
	                </a>
	                <a th:unless="${session.user != null}" href="/login" class="btn btn-primary btn-sm">
	                    <i class="bi bi-box-arrow-in-right"></i> ë¡œê·¸ì¸
	                </a>
	                
	                <a th:if="${session.user != null}" href="/logout" class="menu-link menu-link-button">
	                    <i class="bi bi-box-arrow-right"></i> ë¡œê·¸ì•„ì›ƒ
	                </a>
	            </div>
	        </div>
	    </div>
	</header>
    
	<main class="main-container">
		    
	        <section class="main-visual">
		        <div class="visual-banner">
		            
		            <div class="banner-grid">
		                
		                <div class="banner-item" id="main-slider">
	                        <div class="slide-container">
	                            <div class="slide active">
	                                <div class="banner-img" style="background-image: url('/image/banner_a.png');">
	                                  
	                                </div>
	                            </div>
	                            <div class="slide">
	                                <div class="banner-img" style="background-image: url('/image/banner_b.png');">
	                                
	                                </div>
	                            </div>
	                            <div class="slide">
	                                <div class="banner-img" style="background-image: url('/image/banner_c.png');">
	                              
	                                </div>
	                            </div>
	                        </div>
		                </div>
		              </div>
			       </div>
	            
	        </div>
	    </section>
	    
		<section class="realtime-ranking">
		    <h2 class="section-title">âœ¨ ì‹¤ì‹œê°„ ìƒì˜ ë­í‚¹ ë² ìŠ¤íŠ¸ 10</h2>
		    
		    <div class="product-grid">
		        <div class="product-item" th:each="product, stat : ${realtimeRanking}" th:if="${stat.index < 10}">
		            
		            <a th:href="@{/product/{productId}(productId=${product.id})}">
		                <div class="product-img" th:style="'background-image: url(' + ${product.imageUrl} + ');'"></div>
		                <p class="product-rank" th:text="${stat.count} + 'ìœ„'"></p>
		                <p class="product-name" th:text="${product.name}">[ìƒí’ˆëª…] ë¸Œëœë“œëª…</p>
		                <p class="product-price" th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'ì›'">79,000ì›</p>
		            </a>
		        </div> 
		    </div>
		    
		</section>
	
		<section class="recommend-products">
		    <h2 class="section-title">ğŸ’¡ [ì˜¤ëŠ˜ì˜ ì¶”ì²œ] ë†“ì¹˜ë©´ ì•ˆ ë  ì‹ ìƒí’ˆ</h2>
		    <div class="product-grid">
		        <div class="product-item" th:each="product : ${recommendProducts}" th:if="${product.id != null}">
		            
		            <a th:href="@{/product/{productId}(productId=${product.id})}">
		                
		                <div class="product-img" th:style="'background-image: url(' + ${product.imageUrl} + ');'"></div>
		                
		                <p class="product-name" th:text="${product.name}">[ìƒí’ˆëª…] ë¸Œëœë“œëª…</p>
		                
		                <p class="product-price" th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'ì›'">129,000ì›</p>
		            </a>
		        </div>
		    </div>
		</section>

		

    </main> <footer class="footer">
        <div class="footer-info">
            <p>Copyright &copy; [ì‚¬ì´íŠ¸ëª…]. All rights reserved.</p>
            <p>ê³ ê°ì„¼í„° | ì´ìš©ì•½ê´€ | ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</p>
        </div>
    </footer>
	
	<script>
	        document.addEventListener('DOMContentLoaded', function() {
	            // â­ï¸ ë©”ì¸ ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ ë¡œì§ â­ï¸
	            const sliderContainer = document.getElementById('main-slider');
	            if (sliderContainer) {
	                // 'slide-container' ë‚´ë¶€ì˜ ëª¨ë“  '.slide' ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤.
	                let slides = sliderContainer.querySelectorAll('.slide');
	                let currentSlide = 0;
	                const totalSlides = slides.length;

	                function nextSlide() {
	                    // í˜„ì¬ active í´ë˜ìŠ¤ ì œê±° (ìˆ¨ê¸°ê¸°)
	                    slides[currentSlide].classList.remove('active');

	                    // ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ ê³„ì‚° (ìˆœí™˜)
	                    currentSlide = (currentSlide + 1) % totalSlides;

	                    // ë‹¤ìŒ ìŠ¬ë¼ì´ë“œì— active í´ë˜ìŠ¤ ì¶”ê°€ (ë³´ì´ê¸°)
	                    slides[currentSlide].classList.add('active');
	                }

	                // 5ì´ˆë§ˆë‹¤ ìŠ¬ë¼ì´ë“œ ë³€ê²½ ì‹œì‘
	                setInterval(nextSlide, 5000); 
	            }
	        });
	    </script>

</body>
</html>